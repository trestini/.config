"use strict";var Pn=Object.create;var D=Object.defineProperty;var Tn=Object.getOwnPropertyDescriptor;var An=Object.getOwnPropertyNames;var Cn=Object.getPrototypeOf,Rn=Object.prototype.hasOwnProperty;var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Gn=(e,t)=>{for(var r in t)D(e,r,{get:t[r],enumerable:!0})},ke=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of An(t))!Rn.call(e,o)&&o!==r&&D(e,o,{get:()=>t[o],enumerable:!(n=Tn(t,o))||n.enumerable});return e};var k=(e,t,r)=>(r=e!=null?Pn(Cn(e)):{},ke(t||!e||!e.__esModule?D(r,"default",{value:e,enumerable:!0}):r,e)),kn=e=>ke(D({},"__esModule",{value:!0}),e);var qe=c((Ko,Le)=>{Le.exports=Oe;Oe.sync=Nn;var $e=require("fs");function $n(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}function Ne(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:$n(t,r)}function Oe(e,t,r){$e.stat(e,function(n,o){r(n,n?!1:Ne(o,e,t))})}function Nn(e,t){return Ne($e.statSync(e),e,t)}});var Ue=c((Vo,Be)=>{Be.exports=Me;Me.sync=On;var Fe=require("fs");function Me(e,t,r){Fe.stat(e,function(n,o){r(n,n?!1:De(o,t))})}function On(e,t){return De(Fe.statSync(e),t)}function De(e,t){return e.isFile()&&Ln(e,t)}function Ln(e,t){var r=e.mode,n=e.uid,o=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),i=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),u=parseInt("001",8),p=a|l,h=r&u||r&l&&o===i||r&a&&n===s||r&p&&s===0;return h}});var We=c((Yo,je)=>{var Zo=require("fs"),B;process.platform==="win32"||global.TESTING_WINDOWS?B=qe():B=Ue();je.exports=re;re.sync=qn;function re(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,o){re(e,t||{},function(s,i){s?o(s):n(i)})})}B(e,t||{},function(n,o){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,o=!1),r(n,o)})}function qn(e,t){try{return B.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Ye=c((Qo,Ze)=>{var v=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",He=require("path"),Fn=v?";":":",ze=We(),Xe=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Ke=(e,t)=>{let r=t.colon||Fn,n=e.match(/\//)||v&&e.match(/\\/)?[""]:[...v?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=v?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=v?o.split(r):[""];return v&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:o}},Ve=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:o,pathExtExe:s}=Ke(e,t),i=[],a=u=>new Promise((p,h)=>{if(u===n.length)return t.all&&i.length?p(i):h(Xe(e));let m=n[u],w=/^".*"$/.test(m)?m.slice(1,-1):m,y=He.join(w,e),g=!w&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;p(l(g,u,0))}),l=(u,p,h)=>new Promise((m,w)=>{if(h===o.length)return m(a(p+1));let y=o[h];ze(u+y,{pathExt:s},(g,E)=>{if(!g&&E)if(t.all)i.push(u+y);else return m(u+y);return m(l(u,p,h+1))})});return r?a(0).then(u=>r(null,u),r):a(0)},Mn=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:o}=Ke(e,t),s=[];for(let i=0;i<r.length;i++){let a=r[i],l=/^".*"$/.test(a)?a.slice(1,-1):a,u=He.join(l,e),p=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let h=0;h<n.length;h++){let m=p+n[h];try{if(ze.sync(m,{pathExt:o}))if(t.all)s.push(m);else return m}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw Xe(e)};Ze.exports=Ve;Ve.sync=Mn});var se=c((Jo,oe)=>{"use strict";var Qe=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};oe.exports=Qe;oe.exports.default=Qe});var nt=c((es,tt)=>{"use strict";var Je=require("path"),Dn=Ye(),Bn=se();function et(e,t){let r=e.options.env||process.env,n=process.cwd(),o=e.options.cwd!=null,s=o&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let i;try{i=Dn.sync(e.command,{path:r[Bn({env:r})],pathExt:t?Je.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return i&&(i=Je.resolve(o?e.options.cwd:"",i)),i}function Un(e){return et(e)||et(e,!0)}tt.exports=Un});var rt=c((ts,ae)=>{"use strict";var ie=/([()\][%!^"`<>&|;, *?])/g;function jn(e){return e=e.replace(ie,"^$1"),e}function Wn(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(ie,"^$1"),t&&(e=e.replace(ie,"^$1")),e}ae.exports.command=jn;ae.exports.argument=Wn});var st=c((ns,ot)=>{"use strict";ot.exports=/^#!(.*)/});var at=c((rs,it)=>{"use strict";var Hn=st();it.exports=(e="")=>{let t=e.match(Hn);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return o==="env"?n:n?`${o} ${n}`:o}});var lt=c((os,ct)=>{"use strict";var ce=require("fs"),zn=at();function Xn(e){let r=Buffer.alloc(150),n;try{n=ce.openSync(e,"r"),ce.readSync(n,r,0,150,0),ce.closeSync(n)}catch{}return zn(r.toString())}ct.exports=Xn});var ft=c((ss,pt)=>{"use strict";var Kn=require("path"),ut=nt(),dt=rt(),Vn=lt(),Zn=process.platform==="win32",Yn=/\.(?:com|exe)$/i,Qn=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Jn(e){e.file=ut(e);let t=e.file&&Vn(e.file);return t?(e.args.unshift(e.file),e.command=t,ut(e)):e.file}function er(e){if(!Zn)return e;let t=Jn(e),r=!Yn.test(t);if(e.options.forceShell||r){let n=Qn.test(t);e.command=Kn.normalize(e.command),e.command=dt.command(e.command),e.args=e.args.map(s=>dt.argument(s,n));let o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function tr(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:er(n)}pt.exports=tr});var wt=c((is,ht)=>{"use strict";var le=process.platform==="win32";function ue(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function nr(e,t){if(!le)return;let r=e.emit;e.emit=function(n,o){if(n==="exit"){let s=mt(o,t);if(s)return r.call(e,"error",s)}return r.apply(e,arguments)}}function mt(e,t){return le&&e===1&&!t.file?ue(t.original,"spawn"):null}function rr(e,t){return le&&e===1&&!t.file?ue(t.original,"spawnSync"):null}ht.exports={hookChildProcess:nr,verifyENOENT:mt,verifyENOENTSync:rr,notFoundError:ue}});var St=c((as,I)=>{"use strict";var yt=require("child_process"),de=ft(),pe=wt();function gt(e,t,r){let n=de(e,t,r),o=yt.spawn(n.command,n.args,n.options);return pe.hookChildProcess(o,n),o}function or(e,t,r){let n=de(e,t,r),o=yt.spawnSync(n.command,n.args,n.options);return o.error=o.error||pe.verifyENOENTSync(o.status,n),o}I.exports=gt;I.exports.spawn=gt;I.exports.sync=or;I.exports._parse=de;I.exports._enoent=pe});var _t=c((cs,xt)=>{"use strict";xt.exports=e=>{let t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}});var vt=c((ls,N)=>{"use strict";var $=require("path"),bt=se(),Et=e=>{e={cwd:process.cwd(),path:process.env[bt()],execPath:process.execPath,...e};let t,r=$.resolve(e.cwd),n=[];for(;t!==r;)n.push($.join(r,"node_modules/.bin")),t=r,r=$.resolve(r,"..");let o=$.resolve(e.cwd,e.execPath,"..");return n.push(o),n.concat(e.path).join($.delimiter)};N.exports=Et;N.exports.default=Et;N.exports.env=e=>{e={env:process.env,...e};let t={...e.env},r=bt({env:t});return e.path=t[r],t[r]=N.exports(e),t}});var Pt=c((us,fe)=>{"use strict";var It=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};fe.exports=It;fe.exports.default=It});var At=c((ds,j)=>{"use strict";var sr=Pt(),U=new WeakMap,Tt=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,o=e.displayName||e.name||"<anonymous>",s=function(...i){if(U.set(s,++n),n===1)r=e.apply(this,i),e=null;else if(t.throw===!0)throw new Error(`Function \`${o}\` can only be called once`);return r};return sr(s,e),U.set(s,n),s};j.exports=Tt;j.exports.default=Tt;j.exports.callCount=e=>{if(!U.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return U.get(e)}});var Ct=c(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.SIGNALS=void 0;var ir=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];W.SIGNALS=ir});var me=c(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.SIGRTMAX=P.getRealtimeSignals=void 0;var ar=function(){let e=Gt-Rt+1;return Array.from({length:e},cr)};P.getRealtimeSignals=ar;var cr=function(e,t){return{name:`SIGRT${t+1}`,number:Rt+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Rt=34,Gt=64;P.SIGRTMAX=Gt});var kt=c(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.getSignals=void 0;var lr=require("os"),ur=Ct(),dr=me(),pr=function(){let e=(0,dr.getRealtimeSignals)();return[...ur.SIGNALS,...e].map(fr)};H.getSignals=pr;var fr=function({name:e,number:t,description:r,action:n,forced:o=!1,standard:s}){let{signals:{[e]:i}}=lr.constants,a=i!==void 0;return{name:e,number:a?i:t,description:r,supported:a,action:n,forced:o,standard:s}}});var Nt=c(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.signalsByNumber=T.signalsByName=void 0;var mr=require("os"),$t=kt(),hr=me(),wr=function(){return(0,$t.getSignals)().reduce(yr,{})},yr=function(e,{name:t,number:r,description:n,supported:o,action:s,forced:i,standard:a}){return{...e,[t]:{name:t,number:r,description:n,supported:o,action:s,forced:i,standard:a}}},gr=wr();T.signalsByName=gr;var Sr=function(){let e=(0,$t.getSignals)(),t=hr.SIGRTMAX+1,r=Array.from({length:t},(n,o)=>xr(o,e));return Object.assign({},...r)},xr=function(e,t){let r=_r(e,t);if(r===void 0)return{};let{name:n,description:o,supported:s,action:i,forced:a,standard:l}=r;return{[e]:{name:n,number:e,description:o,supported:s,action:i,forced:a,standard:l}}},_r=function(e,t){let r=t.find(({name:n})=>mr.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},br=Sr();T.signalsByNumber=br});var Lt=c((ws,Ot)=>{"use strict";var{signalsByName:Er}=Nt(),vr=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:o,exitCode:s,isCanceled:i})=>e?`timed out after ${t} milliseconds`:i?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${o})`:s!==void 0?`failed with exit code ${s}`:"failed",Ir=({stdout:e,stderr:t,all:r,error:n,signal:o,exitCode:s,command:i,escapedCommand:a,timedOut:l,isCanceled:u,killed:p,parsed:{options:{timeout:h}}})=>{s=s===null?void 0:s,o=o===null?void 0:o;let m=o===void 0?void 0:Er[o].description,w=n&&n.code,g=`Command ${vr({timedOut:l,timeout:h,errorCode:w,signal:o,signalDescription:m,exitCode:s,isCanceled:u})}: ${i}`,E=Object.prototype.toString.call(n)==="[object Error]",F=E?`${g}
${n.message}`:g,M=[F,t,e].filter(Boolean).join(`
`);return E?(n.originalMessage=n.message,n.message=M):n=new Error(M),n.shortMessage=F,n.command=i,n.escapedCommand=a,n.exitCode=s,n.signal=o,n.signalDescription=m,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!l,n.isCanceled=u,n.killed=p&&!l,n};Ot.exports=Ir});var Ft=c((ys,he)=>{"use strict";var z=["stdin","stdout","stderr"],Pr=e=>z.some(t=>e[t]!==void 0),qt=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return z.map(n=>e[n]);if(Pr(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${z.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let r=Math.max(t.length,z.length);return Array.from({length:r},(n,o)=>t[o])};he.exports=qt;he.exports.node=e=>{let t=qt(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var Mt=c((gs,X)=>{X.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&X.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&X.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Wt=c((Ss,R)=>{var d=global.process,_=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};_(d)?(Dt=require("assert"),A=Mt(),Bt=/^win/i.test(d.platform),O=require("events"),typeof O!="function"&&(O=O.EventEmitter),d.__signal_exit_emitter__?f=d.__signal_exit_emitter__:(f=d.__signal_exit_emitter__=new O,f.count=0,f.emitted={}),f.infinite||(f.setMaxListeners(1/0),f.infinite=!0),R.exports=function(e,t){if(!_(global.process))return function(){};Dt.equal(typeof e,"function","a callback must be provided for exit handler"),C===!1&&we();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){f.removeListener(r,e),f.listeners("exit").length===0&&f.listeners("afterexit").length===0&&K()};return f.on(r,e),n},K=function(){!C||!_(global.process)||(C=!1,A.forEach(function(t){try{d.removeListener(t,V[t])}catch{}}),d.emit=Z,d.reallyExit=ye,f.count-=1)},R.exports.unload=K,b=function(t,r,n){f.emitted[t]||(f.emitted[t]=!0,f.emit(t,r,n))},V={},A.forEach(function(e){V[e]=function(){if(_(global.process)){var r=d.listeners(e);r.length===f.count&&(K(),b("exit",null,e),b("afterexit",null,e),Bt&&e==="SIGHUP"&&(e="SIGINT"),d.kill(d.pid,e))}}}),R.exports.signals=function(){return A},C=!1,we=function(){C||!_(global.process)||(C=!0,f.count+=1,A=A.filter(function(t){try{return d.on(t,V[t]),!0}catch{return!1}}),d.emit=jt,d.reallyExit=Ut)},R.exports.load=we,ye=d.reallyExit,Ut=function(t){_(global.process)&&(d.exitCode=t||0,b("exit",d.exitCode,null),b("afterexit",d.exitCode,null),ye.call(d,d.exitCode))},Z=d.emit,jt=function(t,r){if(t==="exit"&&_(global.process)){r!==void 0&&(d.exitCode=r);var n=Z.apply(this,arguments);return b("exit",d.exitCode,null),b("afterexit",d.exitCode,null),n}else return Z.apply(this,arguments)}):R.exports=function(){return function(){}};var Dt,A,Bt,O,f,K,b,V,C,we,ye,Ut,Z,jt});var zt=c((xs,Ht)=>{"use strict";var Tr=require("os"),Ar=Wt(),Cr=1e3*5,Rr=(e,t="SIGTERM",r={})=>{let n=e(t);return Gr(e,t,r,n),n},Gr=(e,t,r,n)=>{if(!kr(t,r,n))return;let o=Nr(r),s=setTimeout(()=>{e("SIGKILL")},o);s.unref&&s.unref()},kr=(e,{forceKillAfterTimeout:t},r)=>$r(e)&&t!==!1&&r,$r=e=>e===Tr.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",Nr=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return Cr;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Or=(e,t)=>{e.kill()&&(t.isCanceled=!0)},Lr=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},qr=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;let o,s=new Promise((a,l)=>{o=setTimeout(()=>{Lr(e,r,l)},t)}),i=n.finally(()=>{clearTimeout(o)});return Promise.race([s,i])},Fr=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},Mr=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;let o=Ar(()=>{e.kill()});return n.finally(()=>{o()})};Ht.exports={spawnedKill:Rr,spawnedCancel:Or,setupTimeout:qr,validateTimeout:Fr,setExitHandler:Mr}});var Kt=c((_s,Xt)=>{"use strict";var x=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";x.writable=e=>x(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";x.readable=e=>x(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";x.duplex=e=>x.writable(e)&&x.readable(e);x.transform=e=>x.duplex(e)&&typeof e._transform=="function";Xt.exports=x});var Zt=c((bs,Vt)=>{"use strict";var{PassThrough:Dr}=require("stream");Vt.exports=e=>{e={...e};let{array:t}=e,{encoding:r}=e,n=r==="buffer",o=!1;t?o=!(r||n):r=r||"utf8",n&&(r=null);let s=new Dr({objectMode:o});r&&s.setEncoding(r);let i=0,a=[];return s.on("data",l=>{a.push(l),o?i=a.length:i+=l.length}),s.getBufferedValue=()=>t?a:n?Buffer.concat(a,i):a.join(""),s.getBufferedLength=()=>i,s}});var Yt=c((Es,L)=>{"use strict";var{constants:Br}=require("buffer"),Ur=require("stream"),{promisify:jr}=require("util"),Wr=Zt(),Hr=jr(Ur.pipeline),Y=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function ge(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:r}=t,n=Wr(t);return await new Promise((o,s)=>{let i=a=>{a&&n.getBufferedLength()<=Br.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),s(a)};(async()=>{try{await Hr(e,n),o()}catch(a){i(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&i(new Y)})}),n.getBufferedValue()}L.exports=ge;L.exports.buffer=(e,t)=>ge(e,{...t,encoding:"buffer"});L.exports.array=(e,t)=>ge(e,{...t,array:!0});L.exports.MaxBufferError=Y});var Jt=c((vs,Qt)=>{"use strict";var{PassThrough:zr}=require("stream");Qt.exports=function(){var e=[],t=new zr({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",o),Array.prototype.slice.call(arguments).forEach(r),t;function r(s){return Array.isArray(s)?(s.forEach(r),this):(e.push(s),s.once("end",o.bind(null,s)),s.once("error",t.emit.bind(t,"error")),s.pipe(t,{end:!1}),this)}function n(){return e.length==0}function o(s){e=e.filter(function(i){return i!==s}),!e.length&&t.readable&&t.end()}}});var rn=c((Is,nn)=>{"use strict";var tn=Kt(),en=Yt(),Xr=Jt(),Kr=(e,t)=>{t===void 0||e.stdin===void 0||(tn(t)?t.pipe(e.stdin):e.stdin.end(t))},Vr=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let r=Xr();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},Se=async(e,t)=>{if(e){e.destroy();try{return await t}catch(r){return r.bufferedData}}},xe=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(!(!e||!r))return t?en(e,{encoding:t,maxBuffer:n}):en.buffer(e,{maxBuffer:n})},Zr=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:o,maxBuffer:s},i)=>{let a=xe(e,{encoding:n,buffer:o,maxBuffer:s}),l=xe(t,{encoding:n,buffer:o,maxBuffer:s}),u=xe(r,{encoding:n,buffer:o,maxBuffer:s*2});try{return await Promise.all([i,a,l,u])}catch(p){return Promise.all([{error:p,signal:p.signal,timedOut:p.timedOut},Se(e,a),Se(t,l),Se(r,u)])}},Yr=({input:e})=>{if(tn(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};nn.exports={handleInput:Kr,makeAllStream:Vr,getSpawnedResult:Zr,validateInputSync:Yr}});var sn=c((Ps,on)=>{"use strict";var Qr=(async()=>{})().constructor.prototype,Jr=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Qr,e)]),eo=(e,t)=>{for(let[r,n]of Jr){let o=typeof t=="function"?(...s)=>Reflect.apply(n.value,t(),s):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:o})}return e},to=e=>new Promise((t,r)=>{e.on("exit",(n,o)=>{t({exitCode:n,signal:o})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});on.exports={mergePromise:eo,getSpawnedPromise:to}});var ln=c((Ts,cn)=>{"use strict";var an=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],no=/^[\w.-]+$/,ro=/"/g,oo=e=>typeof e!="string"||no.test(e)?e:`"${e.replace(ro,'\\"')}"`,so=(e,t)=>an(e,t).join(" "),io=(e,t)=>an(e,t).map(r=>oo(r)).join(" "),ao=/ +/g,co=e=>{let t=[];for(let r of e.trim().split(ao)){let n=t[t.length-1];n&&n.endsWith("\\")?t[t.length-1]=`${n.slice(0,-1)} ${r}`:t.push(r)}return t};cn.exports={joinCommand:so,getEscapedCommand:io,parseCommand:co}});var be=c((As,G)=>{"use strict";var lo=require("path"),_e=require("child_process"),uo=St(),po=_t(),fo=vt(),mo=At(),Q=Lt(),dn=Ft(),{spawnedKill:ho,spawnedCancel:wo,setupTimeout:yo,validateTimeout:go,setExitHandler:So}=zt(),{handleInput:xo,getSpawnedResult:_o,makeAllStream:bo,validateInputSync:Eo}=rn(),{mergePromise:un,getSpawnedPromise:vo}=sn(),{joinCommand:pn,parseCommand:fn,getEscapedCommand:mn}=ln(),Io=1e3*1e3*100,Po=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:o})=>{let s=t?{...process.env,...e}:e;return r?fo.env({env:s,cwd:n,execPath:o}):s},hn=(e,t,r={})=>{let n=uo._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r={maxBuffer:Io,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=Po(r),r.stdio=dn(r),process.platform==="win32"&&lo.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},q=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?po(t):t,J=(e,t,r)=>{let n=hn(e,t,r),o=pn(e,t),s=mn(e,t);go(n.options);let i;try{i=_e.spawn(n.file,n.args,n.options)}catch(w){let y=new _e.ChildProcess,g=Promise.reject(Q({error:w,stdout:"",stderr:"",all:"",command:o,escapedCommand:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return un(y,g)}let a=vo(i),l=yo(i,n.options,a),u=So(i,n.options,l),p={isCanceled:!1};i.kill=ho.bind(null,i.kill.bind(i)),i.cancel=wo.bind(null,i,p);let m=mo(async()=>{let[{error:w,exitCode:y,signal:g,timedOut:E},F,M,In]=await _o(i,n.options,u),Ae=q(n.options,F),Ce=q(n.options,M),Re=q(n.options,In);if(w||y!==0||g!==null){let Ge=Q({error:w,exitCode:y,signal:g,stdout:Ae,stderr:Ce,all:Re,command:o,escapedCommand:s,parsed:n,timedOut:E,isCanceled:p.isCanceled,killed:i.killed});if(!n.options.reject)return Ge;throw Ge}return{command:o,escapedCommand:s,exitCode:0,stdout:Ae,stderr:Ce,all:Re,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return xo(i,n.options.input),i.all=bo(i,n.options),un(i,m)};G.exports=J;G.exports.sync=(e,t,r)=>{let n=hn(e,t,r),o=pn(e,t),s=mn(e,t);Eo(n.options);let i;try{i=_e.spawnSync(n.file,n.args,n.options)}catch(u){throw Q({error:u,stdout:"",stderr:"",all:"",command:o,escapedCommand:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let a=q(n.options,i.stdout,i.error),l=q(n.options,i.stderr,i.error);if(i.error||i.status!==0||i.signal!==null){let u=Q({stdout:a,stderr:l,error:i.error,signal:i.signal,exitCode:i.status,command:o,escapedCommand:s,parsed:n,timedOut:i.error&&i.error.code==="ETIMEDOUT",isCanceled:!1,killed:i.signal!==null});if(!n.options.reject)return u;throw u}return{command:o,escapedCommand:s,exitCode:0,stdout:a,stderr:l,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};G.exports.command=(e,t)=>{let[r,...n]=fn(e);return J(r,n,t)};G.exports.commandSync=(e,t)=>{let[r,...n]=fn(e);return J.sync(r,n,t)};G.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);let n=dn.node(r),o=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:s=process.execPath,nodeOptions:i=o}=r;return J(s,[...i,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var Ho={};Gn(Ho,{confirmation:()=>Wo,default:()=>jo});module.exports=kn(Ho);var bn=require("@raycast/api"),En=require("child_process"),vn=require("util");var Pe=require("react"),S=require("@raycast/api");var te=k(require("node:process"),1),gn=k(be(),1);function Ee({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}function ve(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Ee(),"")}var ee=k(require("node:process"),1),wn=require("node:os"),To=()=>{let{env:e}=ee.default;if(ee.default.platform==="win32")return e.COMSPEC||"cmd.exe";try{let{shell:t}=(0,wn.userInfo)();if(t)return t}catch{}return ee.default.platform==="darwin"?e.SHELL||"/bin/zsh":e.SHELL||"/bin/sh"},Ao=To(),yn=Ao;var Co=["-ilc",'echo -n "_SHELL_ENV_DELIMITER_"; env; echo -n "_SHELL_ENV_DELIMITER_"; exit'],Ro={DISABLE_AUTO_UPDATE:"true"},Go=e=>{e=e.split("_SHELL_ENV_DELIMITER_")[1];let t={};for(let r of ve(e).split(`
`).filter(n=>!!n)){let[n,...o]=r.split("=");t[n]=o.join("=")}return t};async function Sn(e){if(te.default.platform==="win32")return te.default.env;try{let{stdout:t}=await(0,gn.default)(e||yn,Co,{env:Ro});return Go(t)}catch(t){if(e)throw t;return te.default.env}}var No=k(require("react"),1),Oo=require("react");var ko=k(be(),1);var Lo=require("@raycast/api");var Fo=require("@raycast/api"),Ie=require("react");var Te=require("react/jsx-runtime"),xn=process.platform==="win32";var ne=null;var Do=e=>xn?e.ComSpec||e.COMSPEC||"cmd.exe":e.SHELL||"/bin/zsh",Bo=e=>e.PWD||e.HOME||e.USERPROFILE||process.env.PWD||process.env.HOME||process.env.USERPROFILE||(xn?process.cwd():`/Users/${process.env.USER??"raycast"}`),_n=async()=>{if(ne)return ne;let e=await Sn();return ne={env:e,cwd:Bo(e),shell:Do(e)},ne};var Uo=(0,vn.promisify)(En.exec);async function jo(e){let t=await _n();return Uo(e.command,t)}var Wo=async e=>{let t=await bn.AI.ask(`Act as a security researcher. Your purpose is to analyze bash commands and identify the ones that could be unsafe to execute on users machine. Reply with "safe" if it is ok to run the command, otherwise reply with an explanation why is it unsafe. Unsafe are the only ones that could be harmful for user without the way to recover from the damage.
     Examples:

     Command: rm -rf /
     Result: It will remove all files on the root directory without a way to recover

     Command: ls -la ~/Downloads
     Result: safe

     Command: echo "Hello, World!"
     Result: safe

     Command: :(){ :|:& };:
     Result: It will create unlimited processes and crash the system

     Command: mkfs.ext4 /dev/sda1
     Result: It will format the disk and remove all data

     Command: ${e.command}
     Result:
    `);if(t!=="safe")return{info:[{name:"Command",value:e.command},{name:"Notice",value:t}]}};0&&(module.exports={confirmation});
